<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8" />
    <title>nav</title>
    <meta name="description" content="" />
    <meta name="keywords" content="" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black" />
    <meta name="format-detection" content="telephone=no, email=no" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=0" />
    <!--  swiper 3.4.2	 -->
    <link rel="stylesheet" href="css/swiper.min.css">
    <link class="J-cdn-antui" rel="stylesheet" href="http://gw.alipayobjects.com/as/g/antui/antui/10.1.32/dpl/antui-all.css">

    <!--  swiper 3.4.2 -->
    <script src="js/swiper.min.js"></script>
    <script>
        var docEl = document.documentElement;
        docEl.style.fontSize = 100 / 375 * docEl.clientWidth + 'px';
        window.addEventListener('resize', function() {
            docEl.style.fontSize = 100 / 375 * docEl.clientWidth + 'px';
        });
    </script>
    <style>
        body {
            height: 1000px;
        }
        
        .swiper-wrapper {
            font-size: 0;
        }
        
        .swiper-slide {
            font-size: 16px;
        }
    </style>
</head>

<body>
    <div id="topNav" class="swiper-container am-tab demo-tab-scroll">
        <div class="swiper-wrapper am-tab-scroll-nav">
            <div class="swiper-slide am-tab-item selected"><span>推荐</span></div>
            <div class="swiper-slide am-tab-item"><span>热点</span></div>
            <div class="swiper-slide am-tab-item"><span>深圳</span></div>
            <div class="swiper-slide am-tab-item"><span>汽车</span></div>
            <div class="swiper-slide am-tab-item"><span>视频</span></div>
            <div class="swiper-slide am-tab-item"><span>社会</span></div>
            <div class="swiper-slide am-tab-item"><span>娱乐</span></div>
            <div class="swiper-slide am-tab-item"><span>科技</span></div>
            <div class="swiper-slide am-tab-item"><span>问答</span></div>
            <div class="swiper-slide am-tab-item"><span>财经</span></div>
            <div class="swiper-slide am-tab-item"><span>军事</span></div>
            <div class="swiper-slide am-tab-item"><span>体育</span></div>
            <div class="swiper-slide am-tab-item"><span>段子</span></div>
            <div class="swiper-slide am-tab-item"><span>美女</span></div>
            <div class="swiper-slide am-tab-item"><span>国际</span></div>
            <div class="swiper-slide am-tab-item"><span>趣图</span></div>
            <div class="swiper-slide am-tab-item"><span>健康</span></div>
            <div class="swiper-slide am-tab-item"><span>特产</span></div>
            <div class="swiper-slide am-tab-item"><span>房产</span></div>
        </div>
    </div>

    <script type="text/javascript">
        var mySwiper = new Swiper('.demo-tab-scroll', {
            wrapperClass: 'am-tab-scroll-nav',
            slideClass: 'am-tab-item',
            freeMode: true,
            freeModeMomentumRatio: 0.5,
            slidesPerView: 'auto',
            resistanceRatio: 0.5,
            freeModeMomentum: false,
            longSwipesRatio: .1,
            resistanceRatio: .7,
            onTap: function(swiper, e) {
                // 如果点击的swiper-slide不存在 就不执行
                if (!swiper.slides[swiper.clickedIndex]) {
                    return;
                }
                slide = swiper.slides[swiper.clickedIndex];
                slideLeft = slide.offsetLeft;
                slideWidth = slide.clientWidth;
                slideCenter = slideLeft + slideWidth / 2;
                // 被点击slide的中心点
                mySwiper.setWrapperTransition(300);
                if (slideCenter < swiperWidth / 2) {
                    mySwiper.setWrapperTranslate(0)
                } else if (slideCenter > maxWidth) {
                    mySwiper.setWrapperTranslate(maxTranslate)
                } else {
                    nowTlanslate = slideCenter - swiperWidth / 2
                    mySwiper.setWrapperTranslate(-nowTlanslate)
                }
                // 先把所有的类名都清除
                document.getElementsByClassName("selected")[0].classList.remove("selected");
                // 给当前点击的 添加类名
                document.getElementsByClassName("swiper-slide")[swiper.clickedIndex].classList.add("selected");
            },
            onTransitionEnd: function(swiper) {
                if (swiper.progress == 1) {
                    swiper.activeIndex = swiper.slides.length - 1
                }
            }

        });

        swiperWidth = mySwiper.container[0].clientWidth;
        maxTranslate = mySwiper.maxTranslate();
        maxWidth = -maxTranslate + swiperWidth / 2;
    </script>
</body>

</html>